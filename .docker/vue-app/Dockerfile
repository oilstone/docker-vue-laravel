ARG TARGET_NODE_VERSION
FROM node:${TARGET_NODE_VERSION}-alpine

ARG APP_CODE_PATH

ENV PATH $APP_CODE_PATH/node_modules/.bin:$PATH

WORKDIR "$APP_CODE_PATH"

ARG TARGET_CLI_VERSION
RUN yarn global add @vue/cli@$TARGET_CLI_VERSION

CMD ["yarn", "serve"]
